{"version":3,"sources":["components/articles/articles-item.jsx","components/articles/articles-list.jsx","components/header/header.jsx","components/modal/form-item.jsx","components/modal/add-articles-form.jsx","components/modal/modal-form-add-articles.jsx","hooks/use-filter-articles.jsx","initials-state/initial-state.js","utils/getInitialstate.js","utils/utils.js","App.js","index.js"],"names":["ArticlesItem","title","body","tags","onDelete","style","wordWrap","className","map","tag","key","onClick","ArticlesList","articles","id","item","Header","MyFormItem","getFieldDecorator","label","errMessage","countSymbols","textArea","Item","rules","len","required","validator","rule","value","callback","length","Error","err","TextArea","AddArticlesForm","Form","create","name","visible","onCancel","onCreate","form","okText","onOk","layout","ModalFormAddArticles","addArticlesHandler","children","useState","setVisible","formRef","useRef","type","justify","span","ref","e","current","validateFields","values","split","resetFields","useFilterArticles","filtredArticles","setFiltredArticles","filterValue","setFilterValue","filterArticlesHandler","useCallback","filter","toLowerCase","includes","useEffect","initialState","getInitialState","localStorageData","JSON","parse","localStorage","getItem","getNewId","sort","a","b","App","setArticles","setItem","stringify","prev","onChange","target","placeholder","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a69b960b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./articles.scss\";\r\nconst ArticlesItem = ({\r\n  title = \"\",\r\n  body = \"\",\r\n  tags = [],\r\n  onDelete = () => {}\r\n}) => {\r\n  return (\r\n    <article>\r\n      <header>\r\n        <h3>{title}</h3>\r\n      </header>\r\n      <section>\r\n        <p style={{ wordWrap: \"break-word\" }}>{body}</p>\r\n      </section>\r\n      <footer>\r\n        <div className=\"tags\">\r\n          {tags.map(tag => {\r\n            return (\r\n              <button key={tag} className=\"btn btn-xs btn-default btn__tags\">\r\n                {tag}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      </footer>\r\n      <div className=\"controls\">\r\n        <button onClick={onDelete} className=\"btn btn-danger btn-mini\">\r\n          удалить\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default ArticlesItem;\r\n","import React from \"react\";\r\nimport ArticlesItem from \"./articles-item\";\r\n\r\nconst ArticlesList = ({ articles = [], onDelete = () => {} }) => {\r\n  return (\r\n    <div id=\"posts\" className=\"well\">\r\n      {articles.map(item => {\r\n        return (\r\n          <ArticlesItem\r\n            key={item.id}\r\n            onDelete={() => onDelete(item.id)}\r\n            title={item.title}\r\n            body={item.body}\r\n            tags={item.tags}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArticlesList;\r\n","import React from \"react\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header id=\"header\">\r\n      <div className=\"page-header\">\r\n        <h1>Список постов</h1>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Form, Input } from \"antd\";\r\n\r\nconst MyFormItem = ({getFieldDecorator,label,title,errMessage,countSymbols,textArea}) => {\r\n  return (\r\n    <Form.Item label={label}>\r\n      {getFieldDecorator(title, {\r\n        rules: [\r\n          {\r\n            len: countSymbols,\r\n            required: true,\r\n            validator: (rule, value, callback) => {\r\n              try {\r\n                if (!value || rule.len > value.length) {\r\n                  throw new Error(\r\n                    errMessage\r\n                  );\r\n                }\r\n                callback();\r\n              } catch (err) {\r\n                callback(err);\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      })(!textArea?<Input /> :<Input.TextArea/>)}\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nexport default MyFormItem;\r\n","import React from \"react\";\r\nimport { Modal, Form } from \"antd\";\r\nimport MyFormItem from \"./form-item\";\r\n\r\nconst AddArticlesForm = Form.create({ name: \"form_in_modal\" })(\r\n  ({ visible, onCancel, onCreate, form }) => {\r\n    const { getFieldDecorator } = form;\r\n    return (\r\n      <Modal\r\n        visible={visible}\r\n        title=\"Создать новый пост\"\r\n        okText=\"Create\"\r\n        onCancel={onCancel}\r\n        onOk={onCreate}\r\n      >\r\n        <Form layout=\"vertical\">\r\n          <MyFormItem\r\n            countSymbols={3}\r\n            getFieldDecorator={getFieldDecorator}\r\n            label={\"Заголовок\"}\r\n            title={\"title\"}\r\n            errMessage={\r\n              \"Пожалуйста введите название статьи,не менее 3 символов\"\r\n            }\r\n          />\r\n          <MyFormItem\r\n            textArea={true}\r\n            countSymbols={10}\r\n            getFieldDecorator={getFieldDecorator}\r\n            label={\"Запись\"}\r\n            title={\"body\"}\r\n            errMessage={\r\n              \"Пожалуйста введите текст статьи статьи,не менее 10 символов\"\r\n            }\r\n          />\r\n          <MyFormItem\r\n            countSymbols={5}\r\n            getFieldDecorator={getFieldDecorator}\r\n            label={\"Тэги\"}\r\n            title={\"tags\"}\r\n            errMessage={\r\n              \"Пожалуйста введите тэги статьи через запятую,не менее 5 символов\"\r\n            }\r\n          />\r\n        </Form>\r\n      </Modal>\r\n    );\r\n  }\r\n);\r\n\r\nexport default AddArticlesForm;\r\n","import React, { useState, useRef } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Button, Row, Col } from \"antd\";\r\nimport AddArticlesForm from \"./add-articles-form\";\r\n\r\nconst ModalFormAddArticles = ({ addArticlesHandler, children }) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const formRef = useRef();\r\n  const showModal = () => {\r\n    setVisible(true);\r\n  };\r\n  const handleCancel = e => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const handleCreate = () => {\r\n    const { current: form } = formRef;\r\n    form.validateFields((err, values) => {\r\n      if (err) {\r\n        return;\r\n      }\r\n      const { title, body } = values;\r\n      const tags = values.tags.split(\",\");\r\n\r\n      addArticlesHandler({ title, body, tags });\r\n      form.resetFields();\r\n      setVisible(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row type=\"flex\" justify=\"space-between\">\r\n        <Col>\r\n          <Button type=\"primary\" onClick={showModal}>\r\n            Создать пост\r\n          </Button>\r\n        </Col>\r\n        <Col span={15}>{children}</Col>\r\n      </Row>\r\n\r\n      <AddArticlesForm\r\n        ref={formRef}\r\n        visible={visible}\r\n        onCancel={handleCancel}\r\n        onCreate={handleCreate}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalFormAddArticles;\r\n","import  { useState, useCallback, useEffect } from 'react';\r\n\r\nconst useFilterArticles = (articles) => {\r\n  const [filtredArticles, setFiltredArticles] = useState();\r\n  const [filterValue, setFilterValue] = useState(\"\");\r\n  \r\n  const filterArticlesHandler = useCallback(() => {\r\n    const filtredArticles = articles.filter(item => {\r\n      return item.title.toLowerCase().includes(filterValue.toLowerCase());\r\n    });\r\n    setFiltredArticles(filtredArticles);\r\n  }, [articles, filterValue]);\r\n  \r\n  useEffect(() => {\r\n    filterArticlesHandler();\r\n  }, [filterArticlesHandler, filterValue]);\r\n\r\n  return {filtredArticles,setFilterValue,filterValue}\r\n}\r\n\r\nexport default useFilterArticles\r\n\r\n","const initialState = [{\r\n    \"id\": 1,\r\n    \"title\": \"Стремящийся наибольший\",\r\n    \"body\": \"Поле направлений нейтрализует коллинеарный полином, откуда следует доказываемое равенство.\",\r\n    \"tags\": [\r\n      \"тег\", \"еще тег\"\r\n    ]\r\n  },\r\n  {\r\n    \"id\": 2,\r\n    \"title\": \"Эффузивный топаз\",\r\n    \"body\": \"Поскольку плиты перестали сближаться, гейзер сдвигает кимберлит, в соответствии с изменениями в суммарной минерализации.\",\r\n    \"tags\": [\r\n      \"коренной цоколь\", \"дифференциация\", \"апатит\"\r\n    ]\r\n  },\r\n  {\r\n    \"id\": 3,\r\n    \"title\": \"Звукорядный октавер\",\r\n    \"body\": \"Ретро монотонно диссонирует форшлаг, и здесь в качестве модуса конструктивных элементов используется ряд каких-либо единых длительностей.\",\r\n    \"tags\": [\r\n      \"конструктивный соноропериод\", \"движение\"\r\n    ]\r\n  },\r\n  {\r\n    \"id\": 4,\r\n    \"title\": \"Спиральный фотон\",\r\n    \"body\": \"Любое возмущение затухает, если взрыв ненаблюдаемо искажает экранированный электрон, и это неудивительно, если вспомнить.\",\r\n    \"tags\": [\r\n      \"сверхновая\", \"гидродинамический удар\"\r\n    ]\r\n  }\r\n]\r\n\r\nexport default initialState;","import initialState from \"../initials-state/initial-state\"\r\n\r\n\r\nconst getInitialState = () => {\r\n  let data = []\r\n  const localStorageData = JSON.parse(localStorage.getItem('data'))\r\n  if (localStorageData && localStorageData.length > 0) {\r\n    data = localStorageData\r\n  } else {\r\n    data = initialState\r\n  }\r\n  return data\r\n}\r\n\r\nexport default getInitialState;","const getNewId = (articles) => {\r\nreturn articles.sort((a,b)=>b.id-a.id)[0].id+1\r\n}\r\n\r\nexport default getNewId;","import React, { useState, useEffect } from \"react\";\r\nimport ArticlesList from \"./components/articles/articles-list\";\r\nimport Header from \"./components/header/header\";\r\nimport ModalFormAddArticles from \"./components/modal/modal-form-add-articles\";\r\nimport { Input } from \"antd\";\r\nimport useFilterArticles from \"./hooks/use-filter-articles\";\r\nimport getInitialState from \"./utils/getInitialstate\";\r\nimport getNewId from \"./utils/utils\";\r\n\r\nfunction App() {\r\n  const [articles, setArticles] = useState(getInitialState);\r\n  const { filtredArticles, setFilterValue, filterValue } = useFilterArticles(\r\n    articles\r\n  );\r\n  const deleteArticleHandler = id => {\r\n    setArticles(prev => {\r\n      return prev.filter(item => item.id !== id);\r\n    });\r\n  };\r\n  const addArticlesHandler = item => {\r\n    setArticles(prev => [{ ...item, id: getNewId(articles) }, ...prev]);\r\n  };\r\n  useEffect(() => {\r\n    localStorage.setItem(\"data\", JSON.stringify(articles));\r\n  }, [articles]);\r\n  return (\r\n    <div className=\"container\">\r\n      <Header />\r\n      <ModalFormAddArticles addArticlesHandler={addArticlesHandler}>\r\n        <Input\r\n          value={filterValue}\r\n          onChange={e => setFilterValue(e.target.value)}\r\n          placeholder=\"Найти пост\"\r\n        />\r\n      </ModalFormAddArticles>\r\n      <section>\r\n        <ArticlesList\r\n          onDelete={deleteArticleHandler}\r\n          articles={filtredArticles}\r\n        />\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}